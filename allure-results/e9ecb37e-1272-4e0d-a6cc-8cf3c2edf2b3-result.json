{"name": "test_device_pairing_multi_device", "status": "skipped", "statusDetails": {"message": "XFAIL 部分设备配对失败: device2, device1\n\n_pytest.outcomes.XFailed: 部分设备配对失败: device2, device1", "trace": "parallel_drivers = {'device1': <appium.webdriver.webdriver.WebDriver (session=\"af7f29ec-a59a-42aa-a6a8-5217b6f495a4\")>, 'device2': <appium.webdriver.webdriver.WebDriver (session=\"527dd173-1075-44d1-9df6-45c690d821a6\")>}\n\n    @pytest.mark.app_type(\"ai_mate\")\n    @pytest.mark.pairing_test\n    def test_device_pairing_multi_device(parallel_drivers):\n        \"\"\"多设备并行配对测试 - xdist 兼容\"\"\"\n        with allure.step(\"多设备并行配对测试\"):\n            results = {}\n    \n            # 并行执行所有设备配对\n            with ThreadPoolExecutor(max_workers=len(parallel_drivers)) as executor:\n                future_to_device = {\n                    executor.submit(_run_single_pairing_test, driver, device_name): device_name\n                    for device_name, driver in parallel_drivers.items()\n                }\n    \n                for future in as_completed(future_to_device):\n                    device_name, success, error = future.result()\n                    results[device_name] = (success, error)\n    \n                    # 记录到 Allure\n                    if success:\n                        allure.attach(f\"设备 {device_name} 配对成功\", name=f\"{device_name}_结果\")\n                    else:\n                        allure.attach(f\"设备 {device_name} 配对失败: {error}\", name=f\"{device_name}_错误\")\n    \n            # 汇总结果\n            failed_devices = [name for name, (success, error) in results.items() if not success]\n    \n            if failed_devices:\n>               pytest.xfail(f\"部分设备配对失败: {', '.join(failed_devices)}\")\nE               _pytest.outcomes.XFailed: 部分设备配对失败: device2, device1\n\nai_mate_tests\\testsplan\\test_search_and_pair.py:60: XFailed"}, "description": "多设备并行配对测试 - xdist 兼容", "steps": [{"name": "多设备并行配对测试", "status": "failed", "statusDetails": {"message": "_pytest.outcomes.XFailed: 部分设备配对失败: device2, device1\n", "trace": "  File \"C:\\Users\\536131\\Documents\\GitHub\\cg02app\\ai_mate_tests\\testsplan\\test_search_and_pair.py\", line 60, in test_device_pairing_multi_device\n    pytest.xfail(f\"部分设备配对失败: {', '.join(failed_devices)}\")\n    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\536131\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\_pytest\\outcomes.py\", line 205, in xfail\n    raise XFailed(reason)\n"}, "attachments": [{"name": "device2_错误", "source": "dd6c477d-3bbf-46fe-aac7-976bb4750052-attachment.attach"}, {"name": "device1_错误", "source": "934a258b-1674-4e49-b867-737f399bb09e-attachment.attach"}], "start": 1761013627315, "stop": 1761013649710}], "attachments": [{"name": "stdout", "source": "af64e599-83c6-4b5f-8312-6bf18fa7ac7b-attachment.txt", "type": "text/plain"}], "start": 1761013627315, "stop": 1761013649712, "uuid": "5b0ab89c-03dd-4dd7-966f-aee11a50a3d9", "historyId": "242d2332d267b50f121cdb0dcf70c76e", "testCaseId": "242d2332d267b50f121cdb0dcf70c76e", "fullName": "ai_mate_tests.testsplan.test_search_and_pair#test_device_pairing_multi_device", "labels": [{"name": "tag", "value": "pairing_test"}, {"name": "parentSuite", "value": "ai_mate_tests.testsplan"}, {"name": "suite", "value": "test_search_and_pair"}, {"name": "host", "value": "DESKTOP-TFDMFFN"}, {"name": "thread", "value": "50748-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "ai_mate_tests.testsplan.test_search_and_pair"}], "titlePath": ["ai_mate_tests", "testsplan", "test_search_and_pair.py"]}