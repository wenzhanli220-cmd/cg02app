{"name": "test_bluetooth_stability", "status": "skipped", "statusDetails": {"message": "XFAIL 部分设备测试失败: device2\n\n_pytest.outcomes.XFailed: 部分设备测试失败: device2", "trace": "parallel_drivers = {'device1': <appium.webdriver.webdriver.WebDriver (session=\"07b3b6b7-bddf-4b77-b6f6-c4fdfbdfb49b\")>, 'device2': <appium.webdriver.webdriver.WebDriver (session=\"d0dd67b4-8f1c-489e-9f29-4a4d22e02271\")>}\n\n    @pytest.mark.app_type(\"settings\")\n    @pytest.mark.bluetooth_test\n    def test_bluetooth_stability(parallel_drivers):\n        \"\"\"多设备并行蓝牙测试 - xdist 兼容\"\"\"\n        with allure.step(\"多设备并行蓝牙稳定性测试\"):\n            results = {}\n    \n            # 并行执行所有设备测试\n            with ThreadPoolExecutor(max_workers=len(parallel_drivers)) as executor:\n                future_to_device = {\n                    executor.submit(_run_single_device_test, driver, device_name): device_name\n                    for device_name, driver in parallel_drivers.items()\n                }\n    \n                for future in as_completed(future_to_device):\n                    device_name, success, error = future.result()\n                    results[device_name] = (success, error)\n    \n                    # 记录到 Allure\n                    if success:\n                        allure.attach(f\"设备 {device_name} 测试通过\", name=f\"{device_name}_结果\")\n                    else:\n                        allure.attach(f\"设备 {device_name} 测试失败: {error}\", name=f\"{device_name}_错误\")\n    \n            # 汇总结果\n            failed_devices = [name for name, (success, error) in results.items() if not success]\n    \n            if failed_devices:\n>               pytest.xfail(f\"部分设备测试失败: {', '.join(failed_devices)}\")\nE               _pytest.outcomes.XFailed: 部分设备测试失败: device2\n\nai_mate_tests\\testsplan\\test_open_bluetooth.py:53: XFailed"}, "description": "多设备并行蓝牙测试 - xdist 兼容", "steps": [{"name": "多设备并行蓝牙稳定性测试", "status": "failed", "statusDetails": {"message": "_pytest.outcomes.XFailed: 部分设备测试失败: device2\n", "trace": "  File \"C:\\Users\\536131\\Documents\\GitHub\\cg02app\\ai_mate_tests\\testsplan\\test_open_bluetooth.py\", line 53, in test_bluetooth_stability\n    pytest.xfail(f\"部分设备测试失败: {', '.join(failed_devices)}\")\n    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\536131\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\site-packages\\_pytest\\outcomes.py\", line 205, in xfail\n    raise XFailed(reason)\n"}, "attachments": [{"name": "device2_错误", "source": "9bc245a7-bc41-42d1-8440-d57e114cd642-attachment.attach"}, {"name": "device1_结果", "source": "52fbe807-def4-474d-b34c-83d1293a3d78-attachment.attach"}], "start": 1761013537865, "stop": 1761013550429}], "attachments": [{"name": "stdout", "source": "22abfe1e-06d9-420a-b252-00781260695b-attachment.txt", "type": "text/plain"}], "start": 1761013537865, "stop": 1761013550430, "uuid": "cf5e30fd-2776-4534-b018-51fc12df5036", "historyId": "e5df1566ac8e46621c543216b4fa6b78", "testCaseId": "e5df1566ac8e46621c543216b4fa6b78", "fullName": "ai_mate_tests.testsplan.test_open_bluetooth#test_bluetooth_stability", "labels": [{"name": "tag", "value": "bluetooth_test"}, {"name": "parentSuite", "value": "ai_mate_tests.testsplan"}, {"name": "suite", "value": "test_open_bluetooth"}, {"name": "host", "value": "DESKTOP-TFDMFFN"}, {"name": "thread", "value": "50748-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "ai_mate_tests.testsplan.test_open_bluetooth"}], "titlePath": ["ai_mate_tests", "testsplan", "test_open_bluetooth.py"]}